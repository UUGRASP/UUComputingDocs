{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"UU GRASP Computing manuals and tips and tricks","text":""},{"location":"#getting-started","title":"Getting started","text":"<p>To get started, please select one of the topics below</p> <ul> <li>Desktop PCs in the student office</li> <li>The quark cluster: running larger jobs</li> <li>Setting up AliRoot on your laptop</li> <li>Working remotely at the Nikhef server or link</li> <li>Analysis at Nikhef</li> </ul>"},{"location":"#root-our-main-data-analysis-tool","title":"ROOT: our main data analysis tool","text":"<p>ROOT is the software tool that we use to make histograms and to store and plot event data and other data,  using so-called 'Trees' or 'Ntuples'</p> <ul> <li>ROOT webpage</li> </ul> <p>The published form of this web site is at:  https://uugrasp.github.io/UUComputingDocs/</p>"},{"location":"desktops/","title":"Desktop PCs in the student office","text":""},{"location":"desktops/#usage-of-desktop-pcs","title":"Usage of Desktop PCs","text":"<p>The desktop PCs in the student office have the Ubuntu 18.04 operating system. You can log in to each PC with you UU/Solis account name (all lower case letters) and password.</p>"},{"location":"desktops/#home-directory","title":"Home directory","text":"<p>When you log in to a PC, you home directory from the central UU facilities will be automatically 'mounted', and you should see your files there (using <code>ls</code> in a terminal). Settings for software such as the Firefox web browser and the graphical environment on the desktops are also stored in your home directory and should therefore be the same on all PCs.</p> <p>Warning</p> <p>Note that your home directory has only 2 GB storage space, which can quickly fill up if you download and compile software or store large output files from analysis code. </p> <p>If you need more disk space, it is normally more convenient to run on the quark cluster. To check the disk usage in your home directory, do:    </p> <pre><code>    cd\n    du -sh\n</code></pre> <p>This will take a minute to collect all the information, but will show your total disk usage. If it is growing, make sure to check that the trash can is emptied after you remove files. There may be a directory <code>Recycle\\_bin</code> that you also need to remove.</p>"},{"location":"desktops/#software-packages","title":"Software packages","text":"<p>Import packages, such as ROOT, AliRoot and several event generators are available from the the shared file system CVMFS. To use a software package, you first need to set up the environment, which tells the system (shell) which version of the software you want to use. There is simple shortcut that allows you to do this:</p> <pre><code>    ali\n</code></pre> <p>after which you can for example start up root:</p> <pre><code>    root\n</code></pre>"},{"location":"laptop/","title":"Installing the ALICE software in your computer","text":""},{"location":"laptop/#install-in-your-current-operation-system","title":"Install in your current operation system","text":"<p>First of all, ROOT, AliRoot/AliPhysics, and most of the software packages used for data analysis of particle physics only work on the following operating systems:</p> <ul> <li>Linux (Ubuntu and derivatives or CentOS/Scientific Linux)</li> <li>Mac OS</li> </ul> <p>If you are in one of these systems, the required software can then be installed with the Linux package manager, by compilation, or download, following the  AliPhysics installation instructions.  If you are not not in one of these systems, you can install Ubuntu or use one of the other  installation options or consider to use the quark cluster. </p> <p>Make sure your laptop has all prerequisites before installation.</p>"},{"location":"laptop/#install-ubuntu-in-your-computer","title":"Install Ubuntu in your computer","text":"<p>If you have a windows laptop and have enough room on your hard disk (50-100 Gb), it is very easy to install a Linux distribution (Ubuntu) and use the laptop with dual boot. This way you will be asked to either start up Windows or Ubuntu when you turn on the laptop.</p> <p>To download Ubuntu, the only thing you have to do is create a USB stick with the installation image. You can download the latest Long Term Service (LTS) version of Ubuntu from the download page (make sure to get the LTS version and not one of the regular releases). Installation instructions starting from Windows are in the Ubuntu website.</p> <p>Now you can follow the instructions on the previous section.</p>"},{"location":"laptop/#install-in-a-container","title":"Install in a container","text":"<p>Containers are a recent technology that allows you to run isolated applications. This is super convenient if you need to install different versions of the same software. Curious? You can check what containers are. In our case, this can be achieved using alidock, which runs the ALICE software inside a container.</p> <p>Warning</p> <p>Unfortunately, alidock is not officially supported by ALICE. It works well in most cases, but if you have some problems, get in touch with someone from our institute for help.</p>"},{"location":"laptop_intro/","title":"Setting up the ALICE software on your laptop","text":"<p>There are advantages in using you own laptop for the research project, since your own laptop is always available and you can work easily from any place. If you want to use your laptop instead of a desktop in the university please discuss this with your supervisor, but this shouldn't be any problem.</p> <ul> <li>To use it in a virtual machine is one of the easiest since it requires almost no setup.    It will likely provide most of the software you need, if you are using AliPhysics or/and ROOT.    It can be particularly suitable for bachelor students, but check with your supervisor.   It might not be the best if you are not using most of the ALICE software.</li> <li>If you are in a supported OS (Linux or MacOS), you can install in your own system.    Not in a supported OS? You can install Ubuntu.   This option is a bit more complicated than the virtual machine, but most people in the institute will be able to    help you, so it should be fine as well.</li> <li>A third option is to install or use in a container.    This is a more advanced option.</li> </ul> <p>Important</p> <p>If you have any troubles, ask anyone in our institute for help. We have all done these steps too many times and you should not be stuck on installations for long.</p>"},{"location":"quark_cluster/","title":"Quark Cluster: running larger/multiple jobs","text":"<p>For simple code development and reading/plotting data, you can use the desktop PCs and/or your laptop.  However, if you need or produce larger data files, or need more computing power, you can use the quark cluster.</p> <p>Important</p> <p>To get access to the quark cluster, please ask your supervisor. They will ask one of the system administrators to add your account to the list of people who have access.</p>"},{"location":"quark_cluster/#what-is-a-computing-clusterbatch-farm","title":"What is a computing cluster/batch farm?","text":"<p>A computing cluster is a number of computers that can be used to perform calculations. The quark cluster consists of a head node to which you log in and where you can run code interactively and 7 batch nodes on which you can run programs. Each batch node has 6 cores, so a total of 42 jobs can run in parallel. The idea of a batch farm is that you develop code on the head node and then submit jobs to a batch queue to run multiple jobs in parallel, for example to generate independent sets of events or to run over data files that each contain a subset of events.</p>"},{"location":"quark_cluster/#specifics-of-the-setup-of-quark","title":"Specifics of the setup of quark","text":"<p>You can reach the quark cluster by logging into its head node:</p> <pre><code>    ssh -Y quark.science.uu.nl\n</code></pre> <p>from any computer at the university network.</p> <p>Note</p> <p>The <code>-Y</code> option specifies that a graphical ('X11') connection also needs to be opened. You can also set this option in the ssh options file. Nikhef has a guide to help you configuring ssh connections. If you are curious, you can get more information on the  ssh X11 forwarding.</p> <p>To access the cluster from outside the university, you need to first ssh to the gateway machine <code>gemini.science.uu.nl</code> (or use VPN). Use your solis-id as username (no capital letter at the start) and your solis password to log in. Your account has to be activated for access to quark; if this is not the case, ask your project supervisor.</p> <p>There is a graphical interface (only accessible from university computers) to see the main parameters of the cluster and find a user manual.</p> <p>Some more technical information:</p> <ul> <li>Home directories are not mounted from the university network. You can copy files to and from the cluster with <code>scp</code>.</li> <li>There are two files systems:<ul> <li><code>/data1</code>: (20 Tb) Contains all home directories and software (ROOT, AliRoot).</li> <li><code>/data2</code>: (100 Tb) To keep larger (shared) data sets, like AODs (ALICE event data files) and simulation output.</li> </ul> </li> <li>The batch system on the farm is SGE (more details below)<ul> <li><code>qsub -V -cwd &lt;exec&gt;</code> to submit a job; <code>&lt;exec&gt;</code> is the name of the executable, usually a shell script   that invokes your program with suitable arguments.</li> <li><code>qstat</code> to see your jobs in the queue.</li> <li><code>qdel</code> to delete a job from the queue.</li> </ul> </li> </ul> <p>Note</p> <p>Not sure what a bash script is? You can check  some examples or search for some tutorials.</p> <ul> <li> <p>Software is installed locally in <code>/data1/software/</code></p> <p>To set up some basic environment, add the following to your .bashrc file:</p> </li> </ul> <pre><code> module load python/2.7\n export PATH=/cm/local/apps/environment-modules/3.2.10/Modules/3.2.10/bin/:$PATH\n export ALIBUILD_WORK_DIR=/data1/software/alisoft\n unset PYTHONPATH\n</code></pre> <p>To load the environment before starting aliroot (you can also define an alias in your <code>.bashrc</code> file), use:</p> <pre><code>    alienv enter --architecture slc6_x86-64 --shellrc AliPhysics/latest-master-root6\n</code></pre> <p>To define aliases, you can add for example the following to your <code>.bashrc</code> file:</p> <pre><code>alias alienv='alienv --architecture slc6_x86-64'\nalias ali='alienv enter --shellrc AliPhysics/latest-master-root6,AliRoot-OCDB/latest-release'\n</code></pre>"},{"location":"vm/","title":"Use the ALICE software in a virtual machine","text":"<p>An easy way to install the software is to get a virtual machine, with some pre installed packages. Check with your supervisor if that is the software you are going to use.</p> <p>The virtual machine has the following software:</p> <ul> <li>Cern CentOS 7</li> <li>AliPhysics installed with option <code>user-next-root6</code>, which includes:<ul> <li>ROOT 6</li> <li>fastjet</li> <li>AliRoot</li> </ul> </li> </ul> <p>Additional software can be installed, please get in touch with Henrique.</p> <p>Now you can follow the steps bellow to get the virtual machine running.</p>"},{"location":"vm/#install-the-virtual-machine-software","title":"Install the virtual machine software","text":""},{"location":"vm/#what-are-virtual-machines","title":"What are virtual machines?","text":"<p>A virtual machine emulates a whole computer in your own computer. The size of the virtual machine is large, since you are packing a whole operation system and all the components necessary to run the ALICE software. The total size is approximately 30 GB. Please be sure that you have enough space before installing. It is recommended to have at least 40 GB of free space on your computer (10 GB to download and 30 GB to install).</p>"},{"location":"vm/#install-virtualbox","title":"Install VirtualBox","text":"<p>For this setup, the only software you will need is VirtualBox. You can also use another virtual machine software, but this tutorial only covers the instructions for VirtualBox. You can download it in the VirtualBox website.</p> <p>The installation process is straightforward. If you have problems, the VirtualBox User manual has detailed instructions, particularly on Chapter 2. You should just click \"Next\" and \"Install\" in any popup windows that might show.</p>"},{"location":"vm/#install-virtualbox-extensions","title":"Install VirtualBox Extensions","text":"<p>The extensions will give you a better performance and more feature, so please download the extension pack. It is on the same page you downloaded VirtualBox website. Simply click on the link All supported platforms, bellow VirtualBox  Oracle VM VirtualBox Extension Pack . <p>Double click the file, it will open the VirtualBox application and a popup. Click in <code>Install</code>.</p> <p></p> <p>Accept again any requests from the program and you are set. The software is ready to be used.</p>"},{"location":"vm/#importing-the-vm","title":"Importing the VM","text":"<p>First, you need to download the image file. The VM images are available in the SURFdrive, click on this link to download. </p> <p>Open the app you just installed, <code>Oracle VM VirtualBox</code>, and click in <code>Import</code>.</p> <p></p> <p>It will open a new window called <code>Import Virtual Assistance</code>. Click on the Icon on the right to <code>Find a File</code>. Select the file with the VM (for example, <code>ALICE.ova</code>) and select click in <code>Open</code> to confirm. Then you are back to the previous screen and you can click on <code>Next</code>.</p> <p></p> <p>This will load the <code>Appliance settings</code> screen, as seen bellow. This gives the details of the Virtual Machine. The current values are a suggestion that should work for most people. If you have 8 GB of RAM and a dual core processor (or more), you can leave as it is. If you are not sure, you can check it on Windows, Mac or Ubuntu.</p> <p>Warning</p> <p>If you have less than 8 GB of RAM, please change the RAM value to a lower value, such as 2048 MB or 3072 MB.</p> <p>Now click in <code>Import</code>.</p> <p></p> <p>This will import the Virtual Machine. It might take a while, be patient. Once finished, you should see that the Virtual Machine will be imported, as shown bellow.</p> <p></p> <p>Now let's configure your shared folder. The shared folder will let and edit you see a particular of your computer in the Virtual Machine.</p> <p>Caution</p> <p>For security reasons, do not share all your drive, but only a subset of it, such as your personal folder. To configure it, click in <code>Settings</code>.</p> <p></p> <p>In the new screen, click on <code>Shared Folders</code>.</p> <p></p> <p>In this window, Click on <code>hzanoli</code> and then in <code>Edit share</code> (the second item on the right), as shown in the figure bellow.</p> <p></p> <p>Now add, change the folder that will be shared. First click on the arrow on the left and in the drop down menu, select <code>Other</code>.</p> <p></p> <p>In this new menu, select your user folder (or other folder you would prefer to share between your machine and the VM) and click on <code>Select Folder</code>.</p> <p></p> <p>Now, check that <code>Auto-mount</code> is selected. If not, select it. In <code>Folder Name</code>, you can add the name you would like. For example, you can leave the automatic name generated by the program (which will be your username) or to call it alice. Then click <code>OK</code> and <code>Ok</code> again.</p> <p></p> <p>Now your machine should be fully configured for our needs. You can now go to the next step, running the machine.</p>"},{"location":"vm/#running-the-vm","title":"Running the VM","text":"<p>Now, on <code>Oracle VM VirtualBox</code> main screen, you can click on the VM you just imported, <code>ALICE</code>, and click on <code>Start.</code></p> <p></p> <p>Wait, the machine will automatically login and open the Desktop. If it does not login automatically,  you will need to type the password: <code>quarkgluon</code>. You will also need this password in case you would like to  install additional software. Now you can use it! </p> <p>To open the a program, for example the Terminal, you can click on <code>Activities</code> on the top left and type in the search box. <code>To open the Alice environment, just type</code>ali`` in the terminal.</p> <p>The machine includes Emacs and sublime text to edit text, but you can in principle add anything you would like.</p>"}]}